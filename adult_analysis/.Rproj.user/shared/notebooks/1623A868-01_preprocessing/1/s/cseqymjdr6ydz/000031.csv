"0"," "
"0","TEST_TRIAL <- c(""pref_reveal"", ""trial"")"
"0","# do we want to go w/ the data wrangling route or the jspsych route? "
"0",""
"0",""
"0",""
"0","df.deviant <- df.raw %>% "
"0","  filter(stimulus_type == ""trial"") %>% "
"0","  select(subject, rt,"
"0","         block_number, block_type, stimulus_displayed) %>% "
"0","  group_by(subject, block_number, stimulus_displayed) %>%"
"0","  count() %>% "
"0","  group_by(subject, block_number) %>% "
"0","  mutate("
"0","   deviant = !(n == max(n)) # deviant has less occurence"
"0","  ) %>% "
"0","  mutate("
"0","    identifier = paste0(subject, stimulus_displayed)"
"0","  ) %>% "
"0","  ungroup() %>% "
"0","  select(identifier, deviant) "
"0",""
"0","df.processed <- df.raw %>% "
"0","  filter(stimulus_type == ""trial"") %>% "
"0","  select(subject, rt,"
"0","         block_number, block_type, stimulus_displayed) %>% "
"0","  group_by(subject, block_number) %>% "
"0","  mutate("
"0","    trial_number = row_number(), "
"0","    identifier = paste0(subject, stimulus_displayed)) %>% "
"0","  left_join(df.deviant, by = ""identifier"") %>% "
"0","  mutate("
"0","    trial_type = if_else(deviant, ""deviant"", ""background""),"
"0","    trial_complexity = case_when("
"0","      grepl(""simple"", stimulus_displayed) ~ ""simple"", "
"0","      grepl(""complex"", stimulus_displayed) ~ ""complex"""
"0","    )"
"0","  ) %>% "
"0","  select(subject, block_number, block_type, trial_number, trial_type, trial_complexity, rt)"
"0",""
"0","df.main"
