"0","df.complexity <- df.raw %>% "
"0","  filter(trial_type == ""survey-likert"") %>% "
"0","  mutate("
"0","    question_type = case_when("
"0","      stimulus_type == ""similarity_question"" ~ ""similarity"", "
"0","      TRUE ~ ""complexity"" "
"0","    )"
"0","  ) %>% "
"0","  filter(question_type ==""complexity"") %>% "
"0","  select(subject, question_type, rt, responses, stimulus) %>% "
"0","  # a dumb way to extrat the rating"
"0","  separate(responses, into = c(""question"", ""raw_answer""), sep = "":"") %>% "
"0","  mutate("
"0","    rating = as.numeric(str_extract(raw_answer, ""[[:digit:]]+""))) %>% "
"0","  select(subject, question_type, stimulus, rating)"
"0",""
"0",""
"0","df.complexity"
