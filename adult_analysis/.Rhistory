left_join(block_dev_summary, by = "block_id")
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number)) %>%
select(temp_dev_id, block_id)
RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type", "deviant_pos"))
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number)) %>%
select(temp_dev_id, block_id)
RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos")) %>%
select(-c(block_id, trial_type))
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number)) %>%
select(temp_dev_id, block_id)
RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos")) %>%
select(-c(block_id, trial_type)) %>%
mutate(dishabituation_position = case_when(
(trial_number == (deviant_pos - 1)) ~ "before_deviant",
(trial_number == (deviant_pos + 1)) ~ "after_deviant",
TRUE ~ "regular_deviant"
))
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number)) %>%
select(temp_dev_id, block_id)
RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos")) %>%
select(-c(block_id, trial_type)) %>%
rowwise() %>%
mutate(dishabituation_position = case_when(
(trial_number == (deviant_pos - 1)) ~ "before_deviant",
(trial_number == (deviant_pos + 1)) ~ "after_deviant",
TRUE ~ "regular_deviant"
))
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number)) %>%
select(temp_dev_id, block_id)
RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos")) %>%
select(-c(block_id, trial_type)) %>%
rowwise() %>%
mutate(dishabituation_position = case_when(
(trial_number == (deviant_pos) ~ "before_deviant",
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number)) %>%
select(temp_dev_id, block_id)
RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos")) %>%
select(-c(block_id, trial_type)) %>%
rowwise() %>%
mutate(dishabituation_position = case_when(
(trial_number == (deviant_pos)) ~ "before_deviant",
(trial_number == (deviant_pos)) ~ "after_deviant",
TRUE ~ "regular_deviant"
))
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number)) %>%
select(temp_dev_id, block_id)
RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos")) %>%
select(-c(block_id, trial_type)) %>%
rowwise() %>%
mutate(dishabituation_position = case_when(
(trial_number == (as.numeric(deviant_pos))- 1) ~ "before_deviant",
(trial_number == (deviant_pos)) + 1) ~ "after_deviant",
TRUE ~ "regular_deviant"
))
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number)) %>%
select(temp_dev_id, block_id)
RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos")) %>%
select(-c(block_id, trial_type)) %>%
rowwise() %>%
mutate(dishabituation_position = case_when(
(trial_number == (as.numeric(deviant_pos)) - 1) ~ "before_deviant",
(trial_number == (as.numeric(deviant_pos)) + 1) ~ "after_deviant",
TRUE ~ "regular_deviant"
))
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number)) %>%
select(temp_dev_id, block_id)
RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos")) %>%
select(-c(block_id, trial_type)) %>%
rowwise() %>%
mutate(dishabituation_position = case_when(
(trial_number == (as.numeric(deviant_pos)) - 1) ~ "before_deviant",
(trial_number == (as.numeric(deviant_pos)) + 1) ~ "after_deviant",
TRUE ~ "regular_deviant"
)) %>%
filter(dishabituation_position != "regular_deviant") %>%
ggplot(aes(x = dishabituation_position, y = log(rt))) +
stat_summary(fun.data = "mean_cl_boot")
View(RT_data)
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number)) %>%
select(temp_dev_id, block_id)
RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos")) %>%
select(-c(block_id, trial_type)) %>%
rowwise() %>%
mutate(dishabituation_position = case_when(
(trial_number == (as.numeric(deviant_pos)) - 1) ~ "before_deviant",
(trial_number == (as.numeric(deviant_pos)) + 1) ~ "after_deviant",
TRUE ~ "regular_deviant"
)) %>%
filter(dishabituation_position != "regular_deviant") %>%
ggplot(aes(x = dishabituation_position, y = log(rt))) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~block_type)
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number)) %>%
select(temp_dev_id, block_id)
RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos")) %>%
select(-c(block_id, trial_type)) %>%
rowwise() %>%
mutate(dishabituation_position = case_when(
(trial_number == (as.numeric(deviant_pos)) - 1) ~ "before_deviant",
(trial_number == (as.numeric(deviant_pos)) + 1) ~ "after_deviant",
TRUE ~ "regular_deviant"
)) %>%
filter(dishabituation_position != "regular_deviant") %>%
ggplot(aes(x = dishabituation_position, y = log(rt))) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~trial_complexity)
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number)) %>%
select(temp_dev_id, block_id)
dev_pos_df <- RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos")) %>%
select(-c(block_id, trial_type)) %>%
rowwise() %>%
mutate(dishabituation_position = case_when(
(trial_number == (as.numeric(deviant_pos)) - 1) ~ "before_deviant",
(trial_number == (as.numeric(deviant_pos)) + 1) ~ "after_deviant",
TRUE ~ "regular_deviant"
)) %>%
filter(dishabituation_position != "regular_deviant")
dev_pos_df %>%
ggplot(aes(x = fct_rev(dishabituation_position), y = log(rt))) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~trial_complexity)
dev_pos_df %>%
ggplot(aes(x = fct_rev(dishabituation_position), y = log(rt), color = trial_complexity)) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~block_type)
dev_pos_df %>%
ggplot(aes(x = fct_rev(dishabituation_position), y = log(rt))) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~trial_complexity)
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number, trial_complexity)) %>%
select(temp_dev_id, block_id)
dev_pos_df <- RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos", "deviant_complexity")) %>%
select(-c(block_id, trial_type)) %>%
rowwise() %>%
mutate(dishabituation_position = case_when(
(trial_number == (as.numeric(deviant_pos)) - 1) ~ "before_deviant",
(trial_number == (as.numeric(deviant_pos)) + 1) ~ "after_deviant",
TRUE ~ "regular_deviant"
)) %>%
filter(dishabituation_position != "regular_deviant")
dev_pos_df %>%
ggplot(aes(x = fct_rev(dishabituation_position), y = log(rt))) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~deviant_complexity)
View(dev_pos_df)
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number, trial_complexity)) %>%
select(temp_dev_id, block_id)
dev_pos_df <- RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos", "deviant_complexity")) %>%
select(-c(block_id, trial_type)) %>%
rowwise() %>%
mutate(dishabituation_position = case_when(
(trial_number == (as.numeric(deviant_pos)) - 1) ~ "before_deviant",
(trial_number == (as.numeric(deviant_pos)) + 1) ~ "after_deviant",
TRUE ~ "regular_deviant"
)) %>%
filter(dishabituation_position != "regular_deviant" && deviant_pos != 8)
dev_pos_df %>%
ggplot(aes(x = fct_rev(dishabituation_position), y = log(rt))) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~deviant_complexity)
block_dev_summary <- RT_data %>%
filter(trial_type == "deviant") %>%
mutate(
block_id =  paste(subject, block_number),
temp_dev_id = paste(trial_type, trial_number, trial_complexity)) %>%
select(temp_dev_id, block_id)
dev_pos_df <- RT_data %>%
mutate(block_id = paste(subject, block_number)) %>%
left_join(block_dev_summary, by = "block_id") %>%
separate(temp_dev_id, into = c("trial_type_temp", "deviant_pos", "deviant_complexity")) %>%
select(-c(block_id, trial_type)) %>%
rowwise() %>%
mutate(dishabituation_position = case_when(
(trial_number == (as.numeric(deviant_pos)) - 1) ~ "before_deviant",
(trial_number == (as.numeric(deviant_pos)) + 1) ~ "after_deviant",
TRUE ~ "regular_deviant"
)) %>%
filter(dishabituation_position != "regular_deviant" && deviant_pos != 8)
dev_pos_df %>%
ggplot(aes(x = fct_rev(dishabituation_position), y = log(rt))) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~deviant_complexity)
dev_pos_df %>%
ggplot(aes(x = fct_rev(dishabituation_position), y = log(rt))) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~block_type)
pref_data
pref_data %>%
group_by(block_number, stim_type_selected) %>%
summarise(n = count())
pref_data %>%
group_by(block_number, stim_type_selected) %>%
summarise(n = n())
pref_data %>%
group_by(block_number, stim_type_selected) %>%
summarise(n = n()) %>%
mutate(
group_n = sum(n)
)
pref_data %>%
group_by(block_number, stim_type_selected) %>%
summarise(n = n()) %>%
group_by(block_number)
mutate(
group_n = sum(n)
)
pref_data %>%
group_by(block_number, stim_type_selected) %>%
summarise(n = n()) %>%
group_by(block_number) %>%
mutate(
group_n = sum(n)
)
pref_data %>%
group_by(block_number, stim_type_selected) %>%
summarise(n = n()) %>%
group_by(block_number) %>%
mutate(
group_n = sum(n),
percent = n/group_n
)
pref_data %>%
group_by(block_number, stim_type_selected) %>%
summarise(n = n()) %>%
group_by(block_number) %>%
mutate(
group_n = sum(n),
percent = n/group_n
) %>%
ggplot(aes(x = block_number, y = percent, color = stim_type_selected))
pref_data %>%
group_by(block_number, stim_type_selected) %>%
summarise(n = n()) %>%
group_by(block_number) %>%
mutate(
group_n = sum(n),
percent = n/group_n
) %>%
ggplot(aes(x = block_number, y = percent, color = stim_type_selected)) +
geom_point()
pref_data %>%
group_by(block_number, stim_type_selected) %>%
summarise(n = n()) %>%
group_by(block_number) %>%
mutate(
group_n = sum(n),
percent = n/group_n
) %>%
ggplot(aes(x = block_number, y = percent, color = stim_type_selected)) +
geom_point() +
geom_smooth(method = "lm")
pref_data %>%
group_by(block_number, stim_type_selected) %>%
summarise(n = n()) %>%
group_by(block_number) %>%
mutate(
group_n = sum(n),
percent = n/group_n
) %>%
ggplot(aes(x = block_number, y = percent, color = stim_type_selected)) +
geom_point() +
geom_smooth(method = "lm") +
xlim(1:20)
pref_data %>%
group_by(block_number, stim_type_selected) %>%
summarise(n = n()) %>%
group_by(block_number) %>%
mutate(
group_n = sum(n),
percent = n/group_n
) %>%
ggplot(aes(x = block_number, y = percent, color = stim_type_selected)) +
geom_point() +
geom_smooth(method = "lm") +
xlim(1,20)
pref_data %>%
group_by(block_number, stim_type_selected) %>%
summarise(n = n()) %>%
group_by(block_number) %>%
mutate(
group_n = sum(n),
percent = n/group_n
) %>%
ggplot(aes(x = block_number, y = percent, color = stim_type_selected)) +
geom_point() +
geom_smooth(method = "lm")
RT_data %>%
filter(block_number == 0) %>%
ggplot(aes(x=trial_number, y=log(rt), colour=item_type)) +
stat_summary(fun.data = "mean_cl_boot")
RT_data %>%
filter(block_number == 0) %>%
ggplot(aes(x = item_type, y = log(rt))) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~block_type)
RT_data %>%
filter(block_number == 0) %>%
ggplot(aes(x=trial_number, y=log(rt), colour=item_type)) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~block_type)
RT_data %>%
filter(block_number == 0) %>%
ggplot(aes(x = item_type, y = log(rt))) +
stat_summary(fun.data = "mean_cl_boot")
RT_data %>%
filter(block_number == 0) %>%
ggplot(aes(x=trial_number, y=log(rt), colour=item_type)) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~block_type)
RT_data %>%
filter(block_number == 0) %>%
ggplot(aes(x = item_type, y = log(rt))) +
stat_summary(fun.data = "mean_cl_boot") +
facet_wrap(~block_type)
knitr::opts_chunk$set(echo = TRUE)
library(here)
library(tidyverse)
library(lme4)
library(xtable)
library(lmerTest)
library(broom)
summary(model_full)
model <- lmer('log(rt) ~ trial_number*item_type*trial_complexity  + (1|subject)', data=RT_data, REML=FALSE)
summary(model)$coef
model <- lmer('log(rt) ~ trial_number*item_type*trial_complexity  + (1|subject)', data=RT_data, REML=FALSE)
summary(model)$coef %>% knitr::kable(digits = 2)
model_log <- lmer(log(rt) ~ log(trial_number) * item_type * trial_complexity +
(1 | subject),
data = RT_data)
summary(model_log)$coef %>% knitr::kable(digits = 2)
anova(model, model_log)
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_point()
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1) +
geom_smooth(se=FALSE)
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1) +
geom_smooth(se=FALSE, method = "lm")
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1) +
geom_smooth(se = FALSE, method = "lm") +
scale_y_log10()
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1) +
geom_smooth(se = FALSE, method = "lm") +
scale_y_log10() +
scale_x_log10()
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1) +
geom_smooth(se = FALSE, method = "lm") +
scale_y_log() +
scale_x_log()
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1, alpha = .03) +
stat_summary(geom = "line")
scale_y_log10() +
scale_x_log10()
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1, alpha = .03) +
stat_summary(geom = "line")+
scale_y_log10() +
scale_x_log10()
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1, alpha = .03) +
stat_summary(geom = "line") +
scale_y_log10()
# +
# scale_x_log10()
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1, alpha = .03) +
stat_summary(geom = "line") +
scale_y_log10() +
scale_x_log10()
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1, alpha = .03) +
stat_summary(geom = "line") +
geom_smooth(method = "lm") +
scale_y_log10() +
scale_x_log10()
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1, alpha = .03) +
stat_summary(geom = "line") +
geom_smooth(method = "lm", se = FALSE, col = "black") +
scale_y_log10() +
scale_x_log10()
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1, alpha = .03) +
stat_summary(geom = "line") +
geom_smooth(method = "lm", se = FALSE, lty = 2) +
scale_y_log10() +
scale_x_log10()
ggplot(filter(RT_data, item_type == "background"),
aes(x = trial_number, y = rt, col = trial_complexity)) +
geom_jitter(width = .1, alpha = .03) +
stat_summary(geom = "line") +
geom_smooth(method = "lm", se = FALSE, lty = 2) +
scale_y_log10()
#+
#  scale_x_log10()
summary(model_log)$coef %>% knitr::kable(digits = 2)
